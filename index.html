<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kuis JavaScript Dasar</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    /* CSS disisipkan sebelumnya tetap sama seperti yang kamu kirim */
    /* ... (dari <style> hingga animasi slideIn) */
  </style>
</head>
<body>
  <div class="container">
    <div class="start-screen">
      <h1><i class="fa-solid fa-lightbulb"></i> Selamat Datang di Kuis JavaScript</h1>
      <button id="admin-btn"><i class="fa-solid fa-user-shield"></i> Masuk sebagai Admin</button>
      <button id="peserta-btn"><i class="fa-solid fa-user"></i> Masuk sebagai Peserta</button>
    </div>

    <div class="waiting-room hidden">
      <h2><i class="fa-solid fa-clock"></i> Ruang Tunggu Peserta</h2>
      <p>Menunggu admin memulai kuis...</p>
      <ul id="participant-list"></ul>
    </div>

    <div class="admin-screen hidden">
      <h2><i class="fa-solid fa-gear"></i> Admin - Kontrol Kuis</h2>
      <button id="start-quiz-btn"><i class="fa-solid fa-play"></i> Mulai Kuis</button>
      <h3>Peserta Terdaftar:</h3>
      <ul id="admin-participant-list"></ul>
    </div>

    <div class="quiz-screen hidden">
      <h2 id="question-text"><i class="fa-solid fa-circle-question"></i> Pertanyaan Akan Ditampilkan</h2>
      <ul id="answer-options"></ul>
      <div id="timer"><i class="fa-solid fa-hourglass-half"></i> Sisa Waktu: <span id="time-remaining">60</span> detik</div>
      <button id="submit-answer-btn"><i class="fa-solid fa-paper-plane"></i> Kirim Jawaban</button>
    </div>

    <div class="feedback-screen hidden">
      <h2 id="feedback-text"></h2>
      <button id="next-question-btn"><i class="fa-solid fa-forward"></i> Lanjut</button>
    </div>

    <div class="results-screen hidden">
      <h2><i class="fa-solid fa-chart-line"></i> Hasil Akhir</h2>
      <div id="results"></div>
    </div>
  </div>

  <script>
    let participants = [];
    let currentParticipantIndex = 0;
    let currentQuestionIndex = 0;
    let selectedAnswer = null;
    let timer;
    let timeRemaining = 60;

    const questions = [
      {
        question: "Apa itu JavaScript?",
        options: ["Bahasa markup", "Bahasa pemrograman", "Editor teks", "Sistem operasi"],
        answer: 1
      },
      {
        question: "Bagaimana cara mendeklarasikan variabel di JavaScript?",
        options: ["var", "let", "const", "Semua benar"],
        answer: 3
      },
      {
        question: "Di mana JavaScript dijalankan?",
        options: ["Browser", "Node.js", "Deno", "Semua benar"],
        answer: 3
      },
      {
        question: "Tipe data mana yang bukan termasuk primitive?",
        options: ["String", "Number", "Object", "Boolean"],
        answer: 2
      },
      {
        question: "Apa yang dimaksud dengan 'function' di JavaScript?",
        options: ["Tipe data", "Struktur kontrol", "Blok kode untuk melakukan tugas tertentu", "Perintah perulangan"],
        answer: 2
      }
    ];

    const startScreen = document.querySelector(".start-screen");
    const adminScreen = document.querySelector(".admin-screen");
    const waitingRoom = document.querySelector(".waiting-room");
    const quizScreen = document.querySelector(".quiz-screen");
    const feedbackScreen = document.querySelector(".feedback-screen");
    const resultsScreen = document.querySelector(".results-screen");
    const questionText = document.getElementById("question-text");
    const answerOptions = document.getElementById("answer-options");
    const timeRemainingSpan = document.getElementById("time-remaining");
    const participantList = document.getElementById("participant-list");
    const adminParticipantList = document.getElementById("admin-participant-list");
    const results = document.getElementById("results");

    document.getElementById("admin-btn").addEventListener("click", () => {
      startScreen.classList.add("hidden");
      adminScreen.classList.remove("hidden");
    });

    document.getElementById("peserta-btn").addEventListener("click", () => {
      const name = prompt("Masukkan nama Anda:");
      if (name) {
        participants.push({ name: name, score: 0 });
        const li = document.createElement("li");
        li.textContent = name;
        participantList.appendChild(li);
        adminParticipantList.appendChild(li.cloneNode(true));
        startScreen.classList.add("hidden");
        waitingRoom.classList.remove("hidden");
      }
    });

    document.getElementById("start-quiz-btn").addEventListener("click", () => {
      adminScreen.classList.add("hidden");
      waitingRoom.classList.add("hidden");
      quizScreen.classList.remove("hidden");
      showQuestion();
    });

    document.getElementById("submit-answer-btn").addEventListener("click", () => {
      if (selectedAnswer !== null) {
        const correctAnswer = questions[currentQuestionIndex].answer;
        const feedbackText = document.getElementById("feedback-text");
        if (selectedAnswer === correctAnswer) {
          participants[currentParticipantIndex].score++;
          feedbackText.textContent = "Jawaban Benar!";
        } else {
          feedbackText.textContent = `Jawaban Salah. Jawaban yang benar: ${questions[currentQuestionIndex].options[correctAnswer]}`;
        }
        quizScreen.classList.add("hidden");
        feedbackScreen.classList.remove("hidden");
        clearInterval(timer);
      }
    });

    document.getElementById("next-question-btn").addEventListener("click", () => {
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        quizScreen.classList.remove("hidden");
        feedbackScreen.classList.add("hidden");
        showQuestion();
      } else {
        feedbackScreen.classList.add("hidden");
        resultsScreen.classList.remove("hidden");
        showResults();
      }
    });

    function showQuestion() {
      const q = questions[currentQuestionIndex];
      questionText.textContent = q.question;
      answerOptions.innerHTML = "";
      selectedAnswer = null;

      q.options.forEach((option, index) => {
        const li = document.createElement("li");
        li.textContent = option;
        li.addEventListener("click", () => {
          selectedAnswer = index;
          [...answerOptions.children].forEach(child => child.style.background = "rgba(255,255,255,0.15)");
          li.style.background = "rgba(255,255,255,0.4)";
        });
        answerOptions.appendChild(li);
      });

      timeRemaining = 60;
      timeRemainingSpan.textContent = timeRemaining;
      timer = setInterval(() => {
        timeRemaining--;
        timeRemainingSpan.textContent = timeRemaining;
        if (timeRemaining <= 0) {
          clearInterval(timer);
          document.getElementById("submit-answer-btn").click();
        }
      }, 1000);
    }

    function showResults() {
      results.innerHTML = "";
      participants.forEach(p => {
        const div = document.createElement("div");
        div.textContent = `${p.name}: ${p.score} poin`;
        results.appendChild(div);
      });
    }
  </script>
</body>
</html>